3강- Birthday Problem과 확률의 특성 (Birthday Problem, Properties of Probability)

** Birthday problem
어떤 파티에서 사람들의 그룹이 있을 때, 두 명의 생일이 같을 확률
최소한 50% 이 넘으려면 몇명이 있어야 할까? 
-> 일반적으로 K명이 있을때 2명이 생일이 같을 확률을 찾아보자.
-> 윤년은 제외(2월 29일)
-> 365일이 모두 동일한 확률을 가진다고 가정
   ** 이는 옳은 가정일까? -> NO, 통계 조사에 의하면 계절적 특성에 따라 더 많이 태어난 사람이 존재. 
-> 각각 독립을 가진다고 가정.(각 출생에 대한 독립성 가정)
    ex) K명의 그룹에서 쌍둥이가 많다면 결과가 많이 바뀔 것임.

** Birthday problem 풀이
k가 365보다 큰 경우, 확률은 1 !
상자가 365개 있을 때, 상자보다 점의 개수가 많으면 여러 개의 점이 들어간 상자가 생김(비둘기 집의 원리)

K가 365보다 작은 경우를 보자.
이 문제를 본적 없는 사람들에게 물어보면 100보다 큰 수를 이야기 함(직관적으로).
정답은 23명. -> 50.7% 정도의 확률을 가짐. 

How? 
K가 365보다 작을때, 여사건을 생각하자. 즉 아무도 생일이 같지 않을 확률을 구하는 것이다.
P(no match) = 365 * 364 * 363 * 362 * 361 * 360... (365 - k + 1) / 365 ^ k
즉 이 값을 1에서 뺀 값 x 100이 50보다 커지는 값을 구하면 된다.

k의 값을 직관적으로 이해하려면 어떻게 접근해야할까?
k개수 중에서 2개를 선택하는 경우의 수를 생각해보자.
이는, k(k-1) / 2 인데, k = 23일때 252라는 경우의 수가 나오며, 이 값이 365의 절반 비스무리 하므로, 
23이 50%에 근접할 것이다! 라고 추측 할 수 있다.

그렇다면, 생일이 같으면서, 1개 차이인 경우의 확률이 50%가 넘기 위한 K 개수는?
-> 14로 줄어들게 된다.

** 확률의 정의
기본적으로 확률을 P라는 함수로 정의하는데, 이 P라는 함수는 딱 2가지만 만족하면 확률을 표현한다고
말할 수 있다. 이는 철학적으로 아직까지 정의에 대해서 많은 논쟁거리를 가지고 있지만,
현재 범용적으로 사용되는 확률의 함수, 정의는 다음의 2가지 조건만 만족하면 된다.
1. P(공집합) = 0
2. P(합집합 An)  = Sigma P(An) 

이 두가지 제약 조건을 통해 확률에 관련된 모든 정리들을 유도할 수 있음! (대단..)
간단한 것부터 해보자.

** 확률의 간단한 속성 정리(Property)
(1) P(A^c) = 1 - P(A)
(2) if A 사건이 B 사건에 포함되면(부분집합), P(A) 는 P(B) 보다 작다.
     B = A U ( B n A ^ c) >= P(A) ( 확률은 0보다 작은 값이 나올 수 없으므로)
(3) P(A U B) = P(A) + P(B) - P(A n B)
    P(A U B) = P(A U (B n A^c)) = P(A)  + P(B n A^c)
    ?= P(A) + P(B) - P(A n B) , equiv to P(A n B) + P(B n A^c)  = P(B)

* inclusion-exclusion(포함 배제 원리)
P(A n B n C) = P(A) + P(B) + P(C) - P(A n B) - P(B n C) - P(C n A) + P(A n B n C)
이러한 포함 배제 원리를 일반적으로 표현하면, 다음과 같은 식이 나온다.
P(A1 U A2 U A3 ... U An) = sigma j=1 to n P(Aj) - sigma P(Ai n Aj)(i<j) + sigma P(Ai n Aj n Ak)(i<j<k)..
		          +(-1)^(n+1) P(Ai n Aj + ...... An) 

* 포함-배제 원리에 대한 유명한 예시.
매우 오래된 문제. (드 몽모르트 문제라고 부름 - deMontomrt's problem 1713, matching problem)
52개의 카드 중 n번째에 n이라는 카드가 나올 확률을 구하는 문제. 이를 포함 배제 원리를 이용하여
구할 수 있음.

무작위로 섞여 있는 카드 1,2, ... n 중에서 카드 j가 j번째 순서에 놓이는 사건을 Aj 라고 할 때,
P(Aj)         = 1/n                        -> n 가지
P(A1 n A2) = (n-2)! / n! = 1/n(n-1) -> (n , 2) = n(n-1)/2 가지  
P(A1 n A2 n A3 n A4 .. n An) = (n-k)! / n!

그러므로 구하고자 하는 확률인 P(A1 U A2 U ... U An) 는
  = P(A1) + P(A2) + ... + P(An) - P(A1 U A2) - ... + P(A1 U A2 U A3) + ....
  = n x 1/n - n(n-1)/2! x 1 / n(n-1) ... 
  = 1 - 1/2! + 1/3! - ... + (-1)^(n+1) * 1/n!
  = 이는 테일러 급수식에 따라, 1 - 1/e




















